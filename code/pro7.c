#include <reg51.h> 

sbit P1_0 = P1^0;

void T1Proc() interrupt 3
{
	P1_0 = ~P1_0;      //每隔半个周期250ms波形翻转
}


void main()
{
	TMOD = 0x20;       //定时器方式控制寄存器 10方式8位自装填
	/*
	输出频率为1KHz，周期为500ms
	所以每隔半个周期波形250ms就进行翻转
	*/
	TH1 = 256-250;     //T1 高八位赋值6 （有250ms时间）   
	TL1 = 256-250;     //T1 低八位赋值6 （有250ms时间）
	TR1 = 1;
	EA = ET1 = 1;      //中断源允许和中断总允许打开
	
	P1_0 = 1;
	while(1);
}